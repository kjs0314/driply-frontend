import React, { useState } from 'react';
import SubsBanner from './SubsBanner';
import './index.css';
import SubsImageSlider from './SubsImageSlider';
import CollectionTab from './CollectionTab';

const faqList = [
    { question: '구독을 신청했는데 드리플리박스가 안와요!' },
    { question: '쉬어가기는 어떻게 신청할 수 있나요?' },
    { question: '여러 종류의 담화박스를 동시에 구독할 수 있나요?' },
    { question: '결제 이후 결제 취소가 가능할까요?' },
];

const SubsPage = () => {
    const [activeTab, setActiveTab] = useState('guide'); // 'guide' or 'collection'
    const [openIndex, setOpenIndex] = useState(null);

    const toggle = (idx) => setOpenIndex(openIndex === idx ? null : idx);
    return (
        <div className="main">
            <SubsBanner /> {/* 상단 배너 */}
            <div className="subscription-tabs">
                <div
                    className={`subtab${activeTab === 'guide' ? ' active' : ''}`}
                    onClick={() => setActiveTab('guide')}
                >
                    드리플리박스 안내
                </div>
                <div
                    className={`subtab${activeTab === 'collection' ? ' active' : ''}`}
                    onClick={() => setActiveTab('collection')}
                >
                    모아보기
                </div>
            </div>
            {activeTab === 'guide' && (
                <>
                    <div className="subscription-main-media"></div>
                    <div className="subscription-info-section">
                        <div className="subscription-badge">매달 새롭고 맛있는 커피</div>
                        <h2 className="subscription-title">
                            일상에 다양한 커피를
                            <br />
                            곁들여보세요
                        </h2>
                        <p className="subscription-desc">
                            아침을 깨우는 원두, 여유로운 오후를 위한 원두 등<br />
                            드리플리박스는 매달 새로운 향과 맛으로 채워져요!
                        </p>
                    </div>
                    <div className="SubsImageSlider">
                        <SubsImageSlider />
                        <SubsImageSlider />
                    </div>
                    <div className="subscription-info-section2">
                        <div className="subscription-badge">더욱 까다롭게</div>
                        <h2 className="subscription-title">
                            큐레이터가 직접
                            <br />
                            선별해서 보내드릴께요
                        </h2>
                        <p className="subscription-desc">
                            아침을 깨우는 원두, 여유로운 오후를 위한 원두 등<br />
                            드리플리박스는 매달 새로운 향과 맛으로 채워져요!
                        </p>
                    </div>
                    <div className="subscription-item">
                        <ul>
                            <li>
                                <div class="subsplaceholder-img"></div>
                            </li>
                            <li>
                                <div class="subsplaceholder-img"></div>
                            </li>
                            <li>
                                <div class="subsplaceholder-img"></div>
                            </li>
                        </ul>
                    </div>
                    <div className="subscription-info-section2">
                        <div className="subscription-badge">효율적이고 합리적인</div>
                        <h2 className="subscription-title">
                            따로 구매하는 것보다
                            <br />더 저렴하게
                        </h2>
                        <p className="subscription-desc">
                            아침을 깨우는 원두, 여유로운 오후를 위한 원두 등<br />
                            드리플리박스는 매달 새로운 향과 맛으로 채워져요!
                        </p>
                    </div>
                    <div className="subscription-info-section2">
                        <div className="subscription-badge">언제든 쉬어가세요</div>
                        <h2 className="subscription-title">
                            아직 커피가 남아있다면,
                            <br />
                            취향이 아니라면
                        </h2>
                        <p className="subscription-desc">
                            걱정마세요! 어느 제약도 없어요.
                            <br />
                            이번 달 원두가 취향이 아니시면,
                            <br />
                            편하게 쉬어가세요.
                            <br />
                            당연히 금액은 청구되지 않아요.
                        </p>
                    </div>
                    <div className="subscription-info-section2">
                        <h2 className="subscription-title">더욱 쉬워진 원두 구독</h2>
                    </div>
                    <div className="subscription-item2">
                        <ul>
                            <li>
                                <div className="subsplaceholder">
                                    <div className="subs-text">
                                        <div className="subs-title">간단하게 신청하기</div>
                                        <div className="subs-desc">
                                            일반 상품 주문처럼 간단하게!
                                            <br />
                                            성함과 배송지만 알려주세요.
                                        </div>
                                    </div>
                                    <div className="subs-icon">
                                        {/* 캘린더 아이콘 (SVG 예시) */}
                                        <svg
                                            width="73"
                                            height="73"
                                            viewBox="0 0 74 74"
                                            fill="none"
                                            xmlns="http://www.w3.org/2000/svg"
                                        >
                                            <path
                                                fill-rule="evenodd"
                                                clip-rule="evenodd"
                                                d="M58.2229 25.0723V52.2515C58.2229 55.1829 57.9213 56.7445 57.051 58.3721C56.2373 59.8934 55.0252 61.1055 53.5038 61.9192C51.9721 62.7383 50.4987 63.0537 47.8866 63.0879L47.3833 63.0911H14.3154C11.384 63.0911 9.82228 62.7895 8.19483 61.9192C6.67349 61.1055 5.46134 59.8934 4.64772 58.3721C3.82855 56.8404 3.51321 55.3669 3.47895 52.7549L3.47577 52.2515V25.0723H58.2229Z"
                                                fill="white"
                                            />
                                            <path
                                                fill-rule="evenodd"
                                                clip-rule="evenodd"
                                                d="M47.3833 12.9043C50.3147 12.9043 51.8763 13.2059 53.5038 14.0763C55.0252 14.8899 56.2373 16.102 57.051 17.6233C57.8701 19.1551 58.1855 20.6285 58.2197 23.2406L58.2229 23.7439V25.0703H3.47577V23.7439C3.47577 20.985 3.74292 19.4393 4.49998 17.9102L4.64772 17.6233C5.46134 16.102 6.67349 14.8899 8.19483 14.0763C9.72655 13.2571 11.2 12.9417 13.812 12.9075L14.3154 12.9043H47.3833Z"
                                                fill="#3395ED"
                                            />
                                            <path
                                                d="M27.0474 31.1504H25.5266C24.6867 31.1504 24.0059 31.8313 24.0059 32.6711V34.1919C24.0059 35.0318 24.6867 35.7127 25.5266 35.7127H27.0474C27.8873 35.7127 28.5681 35.0318 28.5681 34.1919V32.6711C28.5681 31.8313 27.8873 31.1504 27.0474 31.1504Z"
                                                fill="#D1D1D1"
                                            />
                                            <path
                                                d="M36.172 31.1504H34.6512C33.8114 31.1504 33.1305 31.8313 33.1305 32.6711V34.1919C33.1305 35.0318 33.8114 35.7127 34.6512 35.7127H36.172C37.0119 35.7127 37.6928 35.0318 37.6928 34.1919V32.6711C37.6928 31.8313 37.0119 31.1504 36.172 31.1504Z"
                                                fill="#D1D1D1"
                                            />
                                            <path
                                                d="M36.172 40.2754H34.6512C33.8114 40.2754 33.1305 40.9563 33.1305 41.7961V43.3169C33.1305 44.1568 33.8114 44.8377 34.6512 44.8377H36.172C37.0119 44.8377 37.6928 44.1568 37.6928 43.3169V41.7961C37.6928 40.9563 37.0119 40.2754 36.172 40.2754Z"
                                                fill="#D1D1D1"
                                            />
                                            <path
                                                d="M36.172 49.4004H34.6512C33.8114 49.4004 33.1305 50.0813 33.1305 50.9211V52.4419C33.1305 53.2818 33.8114 53.9627 34.6512 53.9627H36.172C37.0119 53.9627 37.6928 53.2818 37.6928 52.4419V50.9211C37.6928 50.0813 37.0119 49.4004 36.172 49.4004Z"
                                                fill="#D1D1D1"
                                            />
                                            <path
                                                d="M45.2966 31.1504H43.7759C42.936 31.1504 42.2551 31.8313 42.2551 32.6711V34.1919C42.2551 35.0318 42.936 35.7127 43.7759 35.7127H45.2966C46.1365 35.7127 46.8174 35.0318 46.8174 34.1919V32.6711C46.8174 31.8313 46.1365 31.1504 45.2966 31.1504Z"
                                                fill="#D1D1D1"
                                            />
                                            <path
                                                d="M17.9228 40.2754H16.402C15.5621 40.2754 14.8813 40.9563 14.8813 41.7961V43.3169C14.8813 44.1568 15.5621 44.8377 16.402 44.8377H17.9228C18.7627 44.8377 19.4435 44.1568 19.4435 43.3169V41.7961C19.4435 40.9563 18.7627 40.2754 17.9228 40.2754Z"
                                                fill="#D1D1D1"
                                            />
                                            <path
                                                d="M27.0474 40.2754H25.5266C24.6867 40.2754 24.0059 40.9563 24.0059 41.7961V43.3169C24.0059 44.1568 24.6867 44.8377 25.5266 44.8377H27.0474C27.8873 44.8377 28.5681 44.1568 28.5681 43.3169V41.7961C28.5681 40.9563 27.8873 40.2754 27.0474 40.2754Z"
                                                fill="#D1D1D1"
                                            />
                                            <path
                                                d="M45.2966 40.2754H43.7759C42.936 40.2754 42.2551 40.9563 42.2551 41.7961V43.3169C42.2551 44.1568 42.936 44.8377 43.7759 44.8377H45.2966C46.1365 44.8377 46.8174 44.1568 46.8174 43.3169V41.7961C46.8174 40.9563 46.1365 40.2754 45.2966 40.2754Z"
                                                fill="#D1D1D1"
                                            />
                                            <path
                                                d="M17.9228 49.4004H16.402C15.5621 49.4004 14.8813 50.0813 14.8813 50.9211V52.4419C14.8813 53.2818 15.5621 53.9627 16.402 53.9627H17.9228C18.7627 53.9627 19.4435 53.2818 19.4435 52.4419V50.9211C19.4435 50.0813 18.7627 49.4004 17.9228 49.4004Z"
                                                fill="#D1D1D1"
                                            />
                                            <path
                                                d="M27.0474 49.4004H25.5266C24.6867 49.4004 24.0059 50.0813 24.0059 50.9211V52.4419C24.0059 53.2818 24.6867 53.9627 25.5266 53.9627H27.0474C27.8873 53.9627 28.5681 53.2818 28.5681 52.4419V50.9211C28.5681 50.0813 27.8873 49.4004 27.0474 49.4004Z"
                                                fill="#D1D1D1"
                                            />
                                            <path
                                                d="M17.9233 10.6229C17.9233 9.36309 16.902 8.3418 15.6422 8.3418C14.3824 8.3418 13.3611 9.36309 13.3611 10.6229V16.7059C13.3611 17.9658 14.3824 18.9871 15.6422 18.9871C16.902 18.9871 17.9233 17.9658 17.9233 16.7059V10.6229Z"
                                                fill="#838383"
                                            />
                                            <path
                                                d="M48.3381 10.6229C48.3381 9.36309 47.3168 8.3418 46.057 8.3418C44.7972 8.3418 43.7759 9.36309 43.7759 10.6229V16.7059C43.7759 17.9658 44.7972 18.9871 46.057 18.9871C47.3168 18.9871 48.3381 17.9658 48.3381 16.7059V10.6229Z"
                                                fill="#838383"
                                            />
                                            <path
                                                fill-rule="evenodd"
                                                clip-rule="evenodd"
                                                d="M55.1812 38.7559C63.58 38.7559 70.3887 45.5646 70.3887 53.9634C70.3887 62.3622 63.58 69.1709 55.1812 69.1709C46.7824 69.1709 39.9737 62.3622 39.9737 53.9634C39.9737 45.5646 46.7824 38.7559 55.1812 38.7559Z"
                                                fill="#57DC35"
                                            />
                                            <path
                                                fill-rule="evenodd"
                                                clip-rule="evenodd"
                                                d="M62.7459 47.6303C62.104 47.1479 61.1993 47.1589 60.579 47.6212L60.4301 47.7462L60.2929 47.8907L53.1393 56.2904H52.9079L50.0703 52.9587L49.9617 52.8421C49.3421 52.2355 48.3228 52.1701 47.6182 52.6994C46.981 53.1783 46.7964 53.9976 47.1369 54.66L47.233 54.8221L47.3477 54.9731L51.6601 60.0372L51.7679 60.1531C52.3876 60.7619 53.3991 60.8177 54.0846 60.3189L54.2367 60.194L54.3827 60.0422L63.0122 49.9093L63.1094 49.7843C63.5986 49.0901 63.4452 48.1559 62.7459 47.6303Z"
                                                fill="white"
                                            />
                                        </svg>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div className="subsplaceholder">
                                    <div className="subs-text">
                                        <div className="subs-title">원하는 곳에서 편하게 받기</div>
                                        <div className="subs-desc">
                                            매월 셋째 주 목요일
                                            <br />
                                            지정일에 배송이 시작됩니다.
                                        </div>
                                    </div>
                                    <div className="subs-icon">
                                        {/* 트럭 아이콘 (SVG 예시) */}
                                        <svg
                                            width="71"
                                            height="71"
                                            viewBox="0 0 72 72"
                                            fill="none"
                                            xmlns="http://www.w3.org/2000/svg"
                                        >
                                            <mask
                                                id="mask0_860_3693"
                                                maskUnits="userSpaceOnUse"
                                                x="0"
                                                y="0"
                                                width="72"
                                                height="72"
                                            >
                                                <path
                                                    d="M71.6996 0.738281H0.732758V71.7051H71.6996V0.738281Z"
                                                    fill="white"
                                                />
                                            </mask>
                                            <g mask="url(#mask0_860_3693)">
                                                <path
                                                    fill-rule="evenodd"
                                                    clip-rule="evenodd"
                                                    d="M15.7008 14.043L32.6546 14.041C35.5005 14.041 36.7799 14.2969 37.8518 14.7817L38.185 14.9424C38.24 14.9704 38.2947 14.9991 38.3494 15.0284C39.5541 15.6727 40.4996 16.6181 41.1439 17.8228L41.312 18.1527C41.8209 19.2067 42.1022 20.3964 42.1291 23.0812L42.1312 47.8227L14.9228 14.0589C15.1675 14.051 15.4264 14.0457 15.7008 14.043Z"
                                                    fill="#3395ED"
                                                />
                                                <path
                                                    fill-rule="evenodd"
                                                    clip-rule="evenodd"
                                                    d="M14.9218 14.0586L42.1303 47.8226V58.395H16.1235L15.2753 58.3864C13.0106 58.3385 11.8855 58.0881 10.9263 57.6543L10.5931 57.4936C10.5382 57.4655 10.4834 57.437 10.4287 57.4075C9.224 56.7634 8.27856 55.8179 7.63428 54.6132L7.46608 54.2834C6.95724 53.2294 6.6759 52.0396 6.64904 49.3549L6.64691 23.5173C6.64691 20.6714 6.90282 19.3921 7.38763 18.3202L7.54829 17.9869C7.57634 17.9319 7.60499 17.8772 7.63428 17.8225C8.27856 16.6179 9.224 15.6724 10.4287 15.0281C11.4741 14.469 12.5121 14.1367 14.9218 14.0586Z"
                                                    fill="white"
                                                />
                                                <path
                                                    fill-rule="evenodd"
                                                    clip-rule="evenodd"
                                                    d="M42.1303 27.3457H48.8926C50.9172 27.3457 51.9295 27.3457 52.8894 27.5613C53.7407 27.7524 54.5591 28.0681 55.3183 28.4982C56.1742 28.9831 56.9243 29.6629 58.4245 31.0227L61.1245 33.47C62.8413 35.0259 63.6995 35.8039 64.3152 36.7351C64.8607 37.5603 65.2644 38.4711 65.5095 39.4294C65.786 40.5109 65.786 41.6693 65.786 43.9864V48.9315C65.786 52.2435 65.786 53.8996 65.1413 55.1647C64.5743 56.2774 63.6697 57.1821 62.557 57.7491C61.2918 58.3937 59.6358 58.3937 56.3237 58.3937H42.1303V27.3457Z"
                                                    fill="#3395ED"
                                                />
                                                <path
                                                    fill-rule="evenodd"
                                                    clip-rule="evenodd"
                                                    d="M16.1226 58.3943H42.1294H56.3228C57.7572 58.3943 58.881 58.3943 59.7969 58.342C59.7069 56.9198 59.5073 55.9055 59.0654 55.0382C58.3567 53.6472 57.2258 52.5164 55.8349 51.8077C54.2535 51.002 52.1835 51.002 48.0433 51.002H42.1294H6.70782C6.81815 52.5851 7.07466 53.4738 7.46516 54.2827L7.63337 54.6125C8.27764 55.8172 9.22308 56.7627 10.4278 57.407C10.4825 57.4363 10.5373 57.465 10.5922 57.4929L10.9254 57.6536C11.8846 58.0874 13.0097 58.3379 15.2744 58.3859L16.1226 58.3943Z"
                                                    fill="#A9A9A9"
                                                />
                                                <path
                                                    fill-rule="evenodd"
                                                    clip-rule="evenodd"
                                                    d="M45.0871 31.4855C45.0871 31.0715 45.0871 30.8646 45.1677 30.7064C45.2385 30.5672 45.3516 30.4541 45.4908 30.3833C45.6489 30.3027 45.8559 30.3027 46.2699 30.3027H50.1596C51.2141 30.3027 51.7413 30.3027 52.2802 30.4189C52.7306 30.5159 53.2445 30.7058 53.6497 30.9247C54.1348 31.1869 54.5012 31.5003 55.2336 32.1269C58.1542 34.6255 62.8637 38.9917 62.2094 40.6521H46.2699C45.8559 40.6521 45.6489 40.6521 45.4908 40.5715C45.3516 40.5007 45.2385 40.3876 45.1677 40.2484C45.0871 40.0902 45.0871 39.8833 45.0871 39.4693V31.4855Z"
                                                    fill="#5B5B5B"
                                                />
                                                <path
                                                    d="M19.953 64.3083C23.2192 64.3083 25.8669 61.6605 25.8669 58.3944C25.8669 55.1282 23.2192 52.4805 19.953 52.4805C16.6869 52.4805 14.0391 55.1282 14.0391 58.3944C14.0391 61.6605 16.6869 64.3083 19.953 64.3083Z"
                                                    fill="#5B5B5B"
                                                />
                                                <path
                                                    d="M52.4797 64.3083C55.7458 64.3083 58.3936 61.6605 58.3936 58.3944C58.3936 55.1282 55.7458 52.4805 52.4797 52.4805C49.2135 52.4805 46.5658 55.1282 46.5658 58.3944C46.5658 61.6605 49.2135 64.3083 52.4797 64.3083Z"
                                                    fill="#5B5B5B"
                                                />
                                                <path
                                                    d="M52.4795 61.3534C54.1126 61.3534 55.4365 60.0295 55.4365 58.3964C55.4365 56.7633 54.1126 55.4395 52.4795 55.4395C50.8464 55.4395 49.5226 56.7633 49.5226 58.3964C49.5226 60.0295 50.8464 61.3534 52.4795 61.3534Z"
                                                    fill="#A9A9A9"
                                                />
                                                <path
                                                    d="M19.9534 61.3534C21.5865 61.3534 22.9103 60.0295 22.9103 58.3964C22.9103 56.7633 21.5865 55.4395 19.9534 55.4395C18.3203 55.4395 16.9964 56.7633 16.9964 58.3964C16.9964 60.0295 18.3203 61.3534 19.9534 61.3534Z"
                                                    fill="#A9A9A9"
                                                />
                                                <path
                                                    d="M62.8289 48.7861C62.8289 47.5613 63.8218 46.5684 65.0466 46.5684H65.7858V51.0038H65.0466C63.8218 51.0038 62.8289 50.0108 62.8289 48.7861Z"
                                                    fill="#FFBE00"
                                                />
                                            </g>
                                        </svg>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div className="faq-section">
                        <h2 className="faq-title">자주 묻는 질문</h2>
                        <ul className="faq-list">
                            {faqList.map((item, idx) => (
                                <li key={idx} className="faq-item">
                                    <button className="faq-question" onClick={() => toggle(idx)}>
                                        <span>{item.question}</span>
                                        <span className={`faq-arrow ${openIndex === idx ? 'open' : ''}`}>
                                            <svg
                                                width="26"
                                                height="26"
                                                viewBox="0 0 26 26"
                                                fill="none"
                                                xmlns="http://www.w3.org/2000/svg"
                                            >
                                                <path
                                                    d="M13 14.9354L19.4492 8.48105C19.9266 8.00371 20.6984 8.00371 21.1707 8.48105C21.643 8.9584 21.643 9.73027 21.1707 10.2076L13.8633 17.5201C13.4012 17.9822 12.6598 17.9924 12.1824 17.5557L4.82422 10.2127C4.58555 9.97402 4.46875 9.65918 4.46875 9.34941C4.46875 9.03965 4.58555 8.7248 4.82422 8.48613C5.30156 8.00879 6.07344 8.00879 6.5457 8.48613L13 14.9354Z"
                                                    fill="#B2B2B2"
                                                />
                                            </svg>
                                        </span>
                                    </button>
                                    {openIndex === idx && <div className="faq-answer">준비 중입니다.</div>}
                                </li>
                            ))}
                        </ul>
                    </div>
                    <div className="subs-bottom-banner">
                        <button className="subs-bottom-banner-btn">이번달 드립백 박스 보러가기</button>
                    </div>
                </>
            )}
            {activeTab === 'collection' && <CollectionTab />}
        </div>
    );
};

export default SubsPage;
